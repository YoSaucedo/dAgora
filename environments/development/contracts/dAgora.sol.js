// Factory "morphs" into a Pudding class.
// The reasoning is that calling load in each context
// is cumbersome.

(function() {

  var contract_data = {
    abi: [{"constant":false,"inputs":[],"name":"removeProduct","outputs":[],"type":"function"},{"constant":false,"inputs":[{"name":"dphCode","type":"bytes32"},{"name":"status","type":"uint8"}],"name":"updateOrderStatus","outputs":[],"type":"function"},{"constant":true,"inputs":[{"name":"","type":"bytes32"}],"name":"productList","outputs":[{"name":"dph","type":"bytes32"},{"name":"title","type":"string"},{"name":"description","type":"string"},{"name":"category","type":"string"},{"name":"price","type":"uint256"},{"name":"stock","type":"uint256"}],"type":"function"},{"constant":true,"inputs":[{"name":"","type":"uint256"}],"name":"productIndex","outputs":[{"name":"","type":"bytes32"}],"type":"function"},{"constant":false,"inputs":[],"name":"getProductCount","outputs":[{"name":"counter","type":"uint256"}],"type":"function"},{"constant":false,"inputs":[{"name":"title","type":"string"},{"name":"description","type":"string"},{"name":"category","type":"string"},{"name":"price","type":"uint256"},{"name":"stock","type":"uint256"}],"name":"addProduct","outputs":[{"name":"success","type":"bool"}],"type":"function"},{"constant":true,"inputs":[{"name":"","type":"address"}],"name":"orderCount","outputs":[{"name":"","type":"uint256"}],"type":"function"},{"constant":false,"inputs":[{"name":"dphCode","type":"bytes32"}],"name":"buy","outputs":[],"type":"function"},{"constant":false,"inputs":[{"name":"dphCode","type":"bytes32"},{"name":"newStock","type":"uint256"}],"name":"updateProductStock","outputs":[],"type":"function"},{"constant":false,"inputs":[{"name":"index","type":"uint256"}],"name":"getProduct","outputs":[{"name":"title","type":"string"}],"type":"function"},{"constant":true,"inputs":[],"name":"productCount","outputs":[{"name":"","type":"uint256"}],"type":"function"},{"constant":false,"inputs":[{"name":"recipient","type":"address"},{"name":"amount","type":"uint256"}],"name":"withdraw","outputs":[],"type":"function"},{"constant":true,"inputs":[{"name":"","type":"address"},{"name":"","type":"uint256"}],"name":"orderList","outputs":[{"name":"id","type":"uint256"},{"name":"customer","type":"address"},{"name":"totalCost","type":"uint256"},{"name":"dph","type":"bytes32"},{"name":"status","type":"uint8"}],"type":"function"},{"constant":true,"inputs":[],"name":"admin","outputs":[{"name":"","type":"address"}],"type":"function"},{"inputs":[],"type":"constructor"}],
    binary: "606060405260008054600160a060020a03191633179055610a18806100246000396000f3606060405236156100ae5760e060020a60003504630177b55681146100b057806312d35eed146100cf5780632aa0a2ab146100f3578063322d5a33146101285780634a348da914610140578063524a046e14610156578063713d856b146103895780639c9a1061146103a1578063a30f30e6146100cf578063b9db15b4146103c8578063e0f6ef871461044e578063f3fef3a314610457578063f4fb9b2f1461047b578063f851a440146104c8575b005b6100ae600054600160a060020a039081163390911614610a1657610002565b6100ae60043560243560005433600160a060020a03908116911614610a1257610002565b600160208190526004803560009081526040902080549181015460058201546104da9483019260028101926003919091019186565b61014460043560026020526000908152604090205481565b6003545b60408051918252519081900360200190f35b6040805160206004803580820135601f8101849004840285018401909552848452610144949193602493909291840191908190840183828082843750506040805160208835808b0135601f8101839004830284018301909452838352979998604498929750919091019450909250829150840183828082843750506040805160209735808a0135601f81018a90048a0283018a01909352828252969897606497919650602491909101945090925082915084018382808284375094965050933593505060843591505060006000600060028887303342604051808680519060200190808383829060006004602084601f0104600f02600301f1509050018580519060200190808383829060006004602084601f0104600f02600301f15090500184600160a060020a03166c0100000000000000000000000002815260140183600160a060020a03166c01000000000000000000000000028152601401828152602001955050505050506020604051808303816000866161da5a03f115610002575060408051805160035460c08301845281835260208381018e81528486018e9052606085018d9052608085018c905260a085018b90529683905260018082529490972083518155955180518786018054818c528a8c20959a948801999698969791969181161561010002600019011604601f908101849004850194919391929091019083901061076757805160ff19168380011785555b506107979291505b808211156107f65760008155600101610375565b61014460043560056020526000908152604090205481565b6100ae6004356000818152600160205260408120600401549034829010156108f457610002565b610671600435604080516020818101835260008083528481526002808352848220548252600180845291859020820180548651601f6000199583161561010002959095019091169290920492830184900484028201840190955281815292939183018282801561075b5780601f106107305761010080835404028352916020019161075b565b61014460035481565b6100ae60043560243560005433600160a060020a039081169116146109e757610002565b60046020818152813560009081526040808220909252602435815220805460018201546002830154600384015493909401546106df949293600160a060020a039290921692919060ff1685565b610713600054600160a060020a031681565b604080518781526080810184905260a0810183905260c0602082018181528854600260018216156101000260001901909116049183018290529192830190606084019060e08501908a9080156105715780601f1061054657610100808354040283529160200191610571565b820191906000526020600020905b81548152906001019060200180831161055457829003601f168201915b5050848103835288546002600182161561010002600019019091160480825260209190910190899080156105e65780601f106105bb576101008083540402835291602001916105e6565b820191906000526020600020905b8154815290600101906020018083116105c957829003601f168201915b50508481038252875460026001821615610100026000190190911604808252602091909101908890801561065b5780601f106106305761010080835404028352916020019161065b565b820191906000526020600020905b81548152906001019060200180831161063e57829003601f168201915b5050995050505050505050505060405180910390f35b60405180806020018281038252838181518152602001915080519060200190808383829060006004602084601f0104600f02600301f150905090810190601f1680156106d15780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b60408051958652600160a060020a039490941660208601528484019290925260608401526080830152519081900360a00190f35b60408051600160a060020a03929092168252519081900360200190f35b820191906000526020600020905b81548152906001019060200180831161073e57829003601f168201915b50505050509050919050565b8280016001018555821561036d579182015b8281111561036d578251826000505591602001919060010190610779565b50506040820151816002016000509080519060200190828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f106107fa57805160ff19168380011785555b5061082a929150610375565b5090565b828001600101855582156107ea579182015b828111156107ea57825182600050559160200191906001019061080c565b50506060820151816003016000509080519060200190828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f1061088957805160ff19168380011785555b506108b9929150610375565b8280016001018555821561087d579182015b8281111561087d57825182600050559160200191906001019061089b565b50506080820151600482015560a091909101516005919091015560008181526002602052604090209190915560035550600195945050505050565b8134111561092a5760405133600160a060020a031690600090348590039082818181858883f19350505050151561092a57610002565b5033600160a060020a03811660008181526005602081815260408084208054825160a0810184526001918201808252818601998a528185019a8b52606082018c8152608083018981529989526004808852868a20928a52918752858920925183559951828401805473ffffffffffffffffffffffffffffffffffffffff191690911790559951600282015597516003890155955196909701805460ff19169096179095558554840190955594815292529020018054600019019055565b604051600160a060020a03831690600090839082818181858883f193505050501515610a1257610002565b5050565b56",
    unlinked_binary: "606060405260008054600160a060020a03191633179055610a18806100246000396000f3606060405236156100ae5760e060020a60003504630177b55681146100b057806312d35eed146100cf5780632aa0a2ab146100f3578063322d5a33146101285780634a348da914610140578063524a046e14610156578063713d856b146103895780639c9a1061146103a1578063a30f30e6146100cf578063b9db15b4146103c8578063e0f6ef871461044e578063f3fef3a314610457578063f4fb9b2f1461047b578063f851a440146104c8575b005b6100ae600054600160a060020a039081163390911614610a1657610002565b6100ae60043560243560005433600160a060020a03908116911614610a1257610002565b600160208190526004803560009081526040902080549181015460058201546104da9483019260028101926003919091019186565b61014460043560026020526000908152604090205481565b6003545b60408051918252519081900360200190f35b6040805160206004803580820135601f8101849004840285018401909552848452610144949193602493909291840191908190840183828082843750506040805160208835808b0135601f8101839004830284018301909452838352979998604498929750919091019450909250829150840183828082843750506040805160209735808a0135601f81018a90048a0283018a01909352828252969897606497919650602491909101945090925082915084018382808284375094965050933593505060843591505060006000600060028887303342604051808680519060200190808383829060006004602084601f0104600f02600301f1509050018580519060200190808383829060006004602084601f0104600f02600301f15090500184600160a060020a03166c0100000000000000000000000002815260140183600160a060020a03166c01000000000000000000000000028152601401828152602001955050505050506020604051808303816000866161da5a03f115610002575060408051805160035460c08301845281835260208381018e81528486018e9052606085018d9052608085018c905260a085018b90529683905260018082529490972083518155955180518786018054818c528a8c20959a948801999698969791969181161561010002600019011604601f908101849004850194919391929091019083901061076757805160ff19168380011785555b506107979291505b808211156107f65760008155600101610375565b61014460043560056020526000908152604090205481565b6100ae6004356000818152600160205260408120600401549034829010156108f457610002565b610671600435604080516020818101835260008083528481526002808352848220548252600180845291859020820180548651601f6000199583161561010002959095019091169290920492830184900484028201840190955281815292939183018282801561075b5780601f106107305761010080835404028352916020019161075b565b61014460035481565b6100ae60043560243560005433600160a060020a039081169116146109e757610002565b60046020818152813560009081526040808220909252602435815220805460018201546002830154600384015493909401546106df949293600160a060020a039290921692919060ff1685565b610713600054600160a060020a031681565b604080518781526080810184905260a0810183905260c0602082018181528854600260018216156101000260001901909116049183018290529192830190606084019060e08501908a9080156105715780601f1061054657610100808354040283529160200191610571565b820191906000526020600020905b81548152906001019060200180831161055457829003601f168201915b5050848103835288546002600182161561010002600019019091160480825260209190910190899080156105e65780601f106105bb576101008083540402835291602001916105e6565b820191906000526020600020905b8154815290600101906020018083116105c957829003601f168201915b50508481038252875460026001821615610100026000190190911604808252602091909101908890801561065b5780601f106106305761010080835404028352916020019161065b565b820191906000526020600020905b81548152906001019060200180831161063e57829003601f168201915b5050995050505050505050505060405180910390f35b60405180806020018281038252838181518152602001915080519060200190808383829060006004602084601f0104600f02600301f150905090810190601f1680156106d15780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b60408051958652600160a060020a039490941660208601528484019290925260608401526080830152519081900360a00190f35b60408051600160a060020a03929092168252519081900360200190f35b820191906000526020600020905b81548152906001019060200180831161073e57829003601f168201915b50505050509050919050565b8280016001018555821561036d579182015b8281111561036d578251826000505591602001919060010190610779565b50506040820151816002016000509080519060200190828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f106107fa57805160ff19168380011785555b5061082a929150610375565b5090565b828001600101855582156107ea579182015b828111156107ea57825182600050559160200191906001019061080c565b50506060820151816003016000509080519060200190828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f1061088957805160ff19168380011785555b506108b9929150610375565b8280016001018555821561087d579182015b8281111561087d57825182600050559160200191906001019061089b565b50506080820151600482015560a091909101516005919091015560008181526002602052604090209190915560035550600195945050505050565b8134111561092a5760405133600160a060020a031690600090348590039082818181858883f19350505050151561092a57610002565b5033600160a060020a03811660008181526005602081815260408084208054825160a0810184526001918201808252818601998a528185019a8b52606082018c8152608083018981529989526004808852868a20928a52918752858920925183559951828401805473ffffffffffffffffffffffffffffffffffffffff191690911790559951600282015597516003890155955196909701805460ff19169096179095558554840190955594815292529020018054600019019055565b604051600160a060020a03831690600090839082818181858883f193505050501515610a1257610002565b5050565b56",
    address: "0x92b5e84a5c01d3d6afadac19823b396a7835d399",
    generated_with: "2.0.8",
    contract_name: "dAgora"
  };

  function Contract() {
    if (Contract.Pudding == null) {
      throw new Error("dAgora error: Please call load() first before creating new instance of this contract.");
    }

    Contract.Pudding.apply(this, arguments);
  };

  Contract.load = function(Pudding) {
    Contract.Pudding = Pudding;

    Pudding.whisk(contract_data, Contract);

    // Return itself for backwards compatibility.
    return Contract;
  }

  Contract.new = function() {
    if (Contract.Pudding == null) {
      throw new Error("dAgora error: Please call load() first before calling new().");
    }

    return Contract.Pudding.new.apply(Contract, arguments);
  };

  Contract.at = function() {
    if (Contract.Pudding == null) {
      throw new Error("dAgora error: Please call load() first before calling at().");
    }

    return Contract.Pudding.at.apply(Contract, arguments);
  };

  Contract.deployed = function() {
    if (Contract.Pudding == null) {
      throw new Error("dAgora error: Please call load() first before calling deployed().");
    }

    return Contract.Pudding.deployed.apply(Contract, arguments);
  };

  if (typeof module != "undefined" && typeof module.exports != "undefined") {
    module.exports = Contract;
  } else {
    // There will only be one version of Pudding in the browser,
    // and we can use that.
    window.dAgora = Contract;
  }

})();
